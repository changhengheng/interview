# 原题

什么是分包？

一般来说，小程序打包的体积不允许大于2M，但是实际项目可能大于2M，此时可以使用分包功能将小程序划分成一个主包和多个不同的子包，用户在使用时按需进行加载。

限制：分包总体大小不能超过20M，单个分包不能超过2M

## 常规分包（使用分包）

特点：

1. 分包以外的目录都是主包的内容
2. 分包不能嵌套（分包里面不能有其他分包）
3. tabBar页面不能分包，只能在主包
4. packageA 无法使用 packageB 的资源，但可以使用主包、packageA 内的资源
5. 小程序启动时默认会先下载主包内页面，当进入分包内某个页面时，才会下载对应的分包

操作：

在 app.json subpackages 字段声明项目分包结构：
- root：分包根目录-所有在这个分包里的分包页面所在的根目录
- name：分包别名，分包预下载时可以使用
- pages：相对于分包根目录的分包页面的路径
		
****分包完成要注意点击一遍，把错误路径给修改过来

## 独立分包

定义：一种可以独立于主包和其他分包运行的分包，进入独立分包时不需要下载主包

在 app.json subpackages 字段里、独立分包的基础上，添加一个字段"independent": true就变为独立分包
	
独立分包特点：
1. 独立分包不依赖主包即可运行，可以很大程度上提升分包页面的启动速度。
2. 独立分包中不能依赖主包和其他分包中的内容，包括 js 文件、template、wxss、自定义组件、插件等，其余的自己定义的目录当中的资源是可以使用的
3. 独立分包也是一种分包，常规分包的限制对它依然有效

	

## 分包预下载

定义：开发者可以通过配置，在进入小程序某个页面时，由框架自动预下载可能需要的分包，提升进入后续分包页面时的启动速度。对于独立分包，也可以预下载主包。

分包预下载特点
- 同一个分包中的页面享有共同的预下载大小限额 2M，限额会在工具中打包时校验。如，页面 A 和 B 都在同一个分包中，A 中预下载总大小 0.5M 的分包，B中最多只能预下载总大小 1.5M 的分包。

操作：通过配置完成，查官网即可