import{_ as s,o as a,c as l,O as n}from"./chunks/framework.3d6e08ae.js";const A=JSON.parse('{"title":"大屏适配","description":"","frontmatter":{},"headers":[],"relativePath":"Interview/JingJiang/ShaShouJian/echarts大屏适配.md","filePath":"Interview/JingJiang/ShaShouJian/echarts大屏适配.md"}'),o={name:"Interview/JingJiang/ShaShouJian/echarts大屏适配.md"},p=n(`<h1 id="大屏适配" tabindex="-1">大屏适配 <a class="header-anchor" href="#大屏适配" aria-label="Permalink to &quot;大屏适配&quot;">​</a></h1><h2 id="rem-适配" tabindex="-1">rem 适配 <a class="header-anchor" href="#rem-适配" aria-label="Permalink to &quot;rem 适配&quot;">​</a></h2><h2 id="scale-缩放适配" tabindex="-1">scale 缩放适配 <a class="header-anchor" href="#scale-缩放适配" aria-label="Permalink to &quot;scale 缩放适配&quot;">​</a></h2><p>通过 css 的 scale 属性，根据屏幕大小，对图表进行整体的等比缩放，从而达到自适应效果。</p><ul><li>当屏幕的尺寸比例刚好是 16:9 时，页面能刚好全屏展示，内容占满显示器</li><li>当屏幕的尺寸比例小于 16:9 时，页面上下留白，左右占满并上下居中，显示比例保持 16:9</li><li>当屏幕尺寸比例大于 16:9 时，页面左右留白，上下占满并居中，显示比例保持 16:9</li></ul><p>公式：屏宽/设计稿宽&gt;屏高/设计稿高? 屏高/设计稿高: 屏宽/设计稿宽</p><p>注意点：</p><ol><li>缩放的元素不能写百分比，必须写成固定初始宽高（以设计图为准）</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>最外层盒子放的背景，必须写百分百宽高——背景永远占满屏</p></div><ol start="2"><li>让缩放的元素盒子永远位于最外层盒子的正中心（水平垂直居中）</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>无论横向还是纵向放大，无论是左右留白还是上下留白，缩放的元素盒子永远位于背景中</p></div><ol start="3"><li>视口一旦发生变化，我们需要计算缩放比，设置给内容区（缩放的元素盒子）</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>使用 window.onresize 将缩放比动态设置给内容区盒子</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><ol><li>一上来就调一次，做一次适配，因为不知道第一次打开页面时的环境</li><li>注意适配 scale 覆盖水平垂直居中 translate 的问题，动态设置 scale 时也设置好 translate</li><li>注意 scale 缩放基点的问题：以左上角为基点</li></ol></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>用节流减少resize事件的触发频率</p></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> resize </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">documentElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clientWidth</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dh</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">documentElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clientHeight</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1440</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//后期设计稿上给的宽和高</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">th</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">757</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scale</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dh</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">th</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dh</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">th</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tw</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">transform</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">scale(</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">) translate(-50%, -50%)</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div>`,16),e=[p];function t(c,r,y,i,F,D){return a(),l("div",null,e)}const d=s(o,[["render",t]]);export{A as __pageData,d as default};
